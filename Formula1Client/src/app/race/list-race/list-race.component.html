<div class= "list-race-grid">
    <h1>Races list</h1>
    <div class="race-grid">
        <table mat-table [dataSource] = "races" matSort class="mat-elevation-z8">
            <!-- Define the columns dynamically -->
            <ng-container *ngFor= "let column of columnsToDisplay" [matColumnDef]= "column">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ titles[column]}} </th>
                <td mat-cell *matCellDef= "let race"> {{column == "winnerDriver" && race.winnerDriver ? race.winnerDriver.name : race[column]}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef= "columnsToDisplay"></tr>
            <tr mat-row class="race" *matRowDef= "let row; columns: columnsToDisplay" (click)= "editRace(row)"></tr>
        </table>
        <div class= "search-pagination">
            <mat-form-field class= "search-pagination-child">
                <mat-label>Search</mat-label>
                <input matInput (keyup)= "filterRace($event)" placeholder="Search some propertie of the race">
            </mat-form-field>
            <mat-paginator class= "search-pagination-child" [pageSizeOptions]= "[5, 10, 25, 100]" aria-label="Select page of races"></mat-paginator>
        </div>
        
        <div class="add-button-container">
            <button mat-fab color="green" routerLink="../create" aria-label="Add a new race">
                <mat-icon>add</mat-icon>
            </button>
        </div>
    </div>
</div>
