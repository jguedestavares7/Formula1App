<div class= "list-driver-grid">
    <h1>Drivers list</h1>
    <div class="driver-grid">
        <table mat-table [dataSource] = "drivers" matSort class="mat-elevation-z8">
            <!-- Define the columns dynamically -->
            <ng-container *ngFor= "let column of columnsToDisplay" [matColumnDef]= "column">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ titles[column]}} </th>
                <td mat-cell *matCellDef= "let driver"> {{column == "teamName" && driver.team ? driver.team.name : driver[column]}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef= "columnsToDisplay"></tr>
            <tr mat-row class="driver" *matRowDef= "let row; columns: columnsToDisplay" (click)= "editDriver(row)"></tr>
        </table>
        <div class= "search-pagination">
            <mat-form-field class= "search-pagination-child">
                <mat-label>Search</mat-label>
                <input matInput (keyup)= "filterDriver($event)" placeholder="Search some propertie of the driver">
            </mat-form-field>
            <mat-paginator class= "search-pagination-child" [pageSizeOptions]= "[5, 10, 25, 100]" aria-label="Select page of drivers"></mat-paginator>
        </div>
        
        <div class="add-button-container">
            <button mat-fab color="orange" routerLink="../create" aria-label="Add a new driver">
                <mat-icon>add</mat-icon>
            </button>
        </div>
    </div>
</div>
